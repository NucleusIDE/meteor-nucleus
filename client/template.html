<template name="nucleus">
  {{> nucleus_nick_prompt}}
  {{> nucleus_terminal}}
  {{> sidebar}}
  {{> nucleus_topbar}}
  {{> editor}}
</template>

<template name="nucleus_nick_prompt">
  {{#if no_nuc_user}}
  <div id="nucleus_nick_prompt">
    <div id="nick_form" action="#">
      <input id="nick" type="text" placeholder="Enter Nick and press Enter"/>
      <!-- <a id="as_a_guest" href="#">Visit as Guest</a> -->
    </div>
  </div>
  {{/if}}
</template>

<template name="nucleus_topbar">
  <div id="nucleus_topbar">
    <div class="button-group button-group-left">
      <a id="nucleus_show_terminal" class="btn-custom btn-topbar " href="#">
        <i class="fa fa-terminal"></i>
      </a>
    </div>
    <div class="button-group button-group-right">
      <a id="nucleus_save_file" class="btn-custom btn-topbar {{file_dirty 'save'}}" href="">Save</a>
      <a id="nucleus_discard_file" class="btn-custom btn-topbar {{file_dirty 'discard'}}" href="">Discard</a>
    </div>
  </div>
</template>

<template name="sidebar">
  <div id="sidebar">
    {{> nucleus_tree_widget}}
    {{> nucleus_toolbar}}
    {{> footer_controls}}
  </div>
</template>

<template name="nucleus_tree_widget">
  <div class="sidebar-marker-label">
    File System
  </div>
  <div id="nucleus_file_tree">
    {{{tree}}}
  </div>
</template>

<template name="editor">
  <div id="nuc-editor">
		<div class="user_nick_cursor_label">
      Label
		</div>
    {{> sharejsAce docid=docid onRender=config onConnect=setMode id="nucleus_editor"}}
  </div>
</template>

<template name="nucleus_toolbar">
  <div id="nucleus-toolbar">

    <div class="sidebar-marker-label">
      Git Controls
    </div>
    
    <div class="sidebar-row" style="text-align: center;">
      <a id="pull_changes" class="btn-custom btn-dark btn-40">
        <i style="font-size: 16px;padding: 0 10px;margin-left: -10px;" class="fa fa-level-down"></i>
        Pull</a>    
      <a id="push_changes" class="btn-custom btn-dark btn-40">
        <i style="font-size: 16px;padding: 0 10px;margin-left: -10px;" class="fa fa-level-up"></i>
        Push</a>    
    </div>

    <div class="sidebar-row sidebar-commit-row">
      <a id="commit_changes" class="btn-custom btn-dark commit-btn">
        <i class="fa fa-circle-o-notch"></i>
        Commit</a>
      <input class="sidebar-commit-message" placeholder="Enter Commit Message" type="text" />
    </div>


    <div class="sidebar-marker-label">
      Event Sync
    </div>
    
    <div class="sidebar-row" style="text-align: center;">
      <a id="sync_app_events" class="{{recievingEvents 'app'}} btn-custom btn-dark btn-40">
        <i style="font-size: 16px;padding: 0 10px;margin-left: -10px;" class="fa {{fa_recievingEvents 'app'}}"></i>
        App 
      </a>    
      <a id="sync_nucleus_events" class="{{recievingEvents 'nucleus'}} btn-custom btn-dark  btn-40">
        <i style="font-size: 16px;padding: 0 10px;margin-left: -10px;" class="fa {{fa_recievingEvents 'nucleus'}}"></i>
        Nucleus
      </a>
    </div>

    <div class="sidebar-marker-label">
      Deploy
    </div>
    
    <div class="sidebar-row" style="text-align: center;">
      <a id="mup_deploy" class="btn-custom btn-dark  btn-90">
        <i style="font-size: 16px;padding: 0 10px;margin-left: -10px;" class="fa fa-bolt"></i>
        mup Deploy
      </a>    
    </div>
    
  </div>

  <div id="flash_messages">
    {{> flashMessages}}
  </div>

</template>


<template name="footer_controls">
  <div class="footer_popup">
    {{> footer_popup_template}}
  </div>
  <div class="footer_controls">
    <a class="show_chatbox {{activeBox 'chatbox'}}"><i class="fa fa-comments fa-2x"></i></a>
    <a class="show_buddy_list {{activeBox 'buddy_list'}}"><i class="fa fa-users fa-2x"></i></a>
  </div>
</template>

<template name="chatbox">
  <div class="chat_box">
    <div class="chat_history"></div>
    <div class="get_chat_message">
      <input class='chat_input' type="text" placeholder="Enter Chat Message here" />
    </div>
  </div>
</template>

<template name="chat_message">
  <div class="chat_msg">
    <b><span class="chat_msg_nick">{{nick}}</span>:</b>
    <span class="chat_msg_content">{{message}}</span>
  </div>  
</template>


<template name="buddy_list">
  <ul class="buddy_list">
    {{#each buddies}}
    <li class="buddy_detail">
      <span class="buddy-color-box" style="{{statusBoxStyle}}"></span>
      <span class="buddy_name">{{nick}}</span>
    </li>
    {{/each}}
  </ul>
</template>


<template name="nucleus_terminal">
  {{#if show_terminal}}
  <div class="nucleus_terminal">
    {{> terminal}}
  </div>
  {{/if}}
</template>


