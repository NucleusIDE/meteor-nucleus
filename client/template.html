<template name="nucleus">
  {{> sidebar}}
  {{> editor}}
</template>

<template name="nucleus_nick_prompt">
  {{#if no_nuc_user}}
  <div id="nucleus_nick_prompt">
    <div id="nick_form" action="#">
      <input id="nick" type="text" placeholder="Enter Nick and press Enter"/>
      <!-- <a id="as_a_guest" href="#">Visit as Guest</a> -->
    </div>
  </div>
  {{/if}}
</template>

<template name="sidebar">
  <div id="sidebar">
    {{> nucleus_nick_prompt}}
    {{> nucleus_tree_widget}}
    {{> nucleus_toolbar}}
    {{> footer_controls}}
  </div>
</template>

<template name="nucleus_tree_widget">
  <div id="nucleus_file_tree">
    {{{tree}}}
  </div>
</template>

<template name="editor">
  <div id="nuc-editor">
		<div class="user_nick_cursor_label">
      Label
		</div>
    {{> sharejsAce docid=docid onRender=config onConnect=setMode id="nucleus_editor"}}
  </div>
</template>

<template name="nucleus_toolbar">
  <div id="nucleus-toolbar">
    <a id="commit_changes" class="btn btn-primary btn-sidebar">Commit All Changes</a>
    <a id="push_changes" class="btn btn-info btn-sidebar">Push To Remote Repo</a>    
    <a id="pull_changes" class="btn btn-primary btn-sidebar">Pull New Changes</a>    
    <a id="sync_events" class="{{recieveEvents}} btn btn-info btn-sidebar">Start Sync Events</a>    
  </div>
  <div id="flash_messages">
    {{> flashMessages}}
  </div>
</template>


<template name="footer_controls">
  <div class="footer_popup">
    {{> footer_popup_template}}
  </div>
  <div class="footer_controls">
      <a class="show_chatbox {{activeBox 'chatbox'}}"><i class="fa fa-comments fa-2x"></i></a>
      <a class="show_buddy_list {{activeBox 'buddy_list'}}"><i class="fa fa-users fa-2x"></i></a>
  </div>
</template>

<template name="chatbox">
  <div class="chat_box">
    <div class="chat_history"></div>
    <div class="get_chat_message">
      <input class='chat_input' type="text" placeholder="Enter Chat Message here" />
    </div>
  </div>
</template>

<template name="chat_message">
  <div class="chat_msg">
    <b><span class="chat_msg_nick">{{nick}}</span>:</b>
    <span class="chat_msg_content">{{message}}</span>
  </div>  
</template>


<template name="buddy_list">
  <ul class="buddy_list">
    {{#each buddies}}
    <li class="buddy_detail">
      <span class="buddy-color-box" style="{{statusBoxStyle}}"></span>
      <span class="buddy_name">{{nick}} ({{currentFile}})</span>
    </li>
    {{/each}}
  </ul>
</template>
